# <span style="color:#f79f1b"> Docker 

- Docker is an open-source platform that 
    - automates the deployment, 
    - scaling
    - management of applications using containerization. 
- Containers are <span style="color:yellow"> lightweight, portable, and self-sufficient </span> units that package an application 
- and its dependencies together, allowing it to run consistently across different computing environments.


## Key Concepts

![img.png](img.png)

- **<span style="color:red"> Container</span>**: A standard unit of software that packages up code and all its dependencies so the application runs quickly and reliably from one computing environment to another.


- **<span style="color:red"> Image </span>**: A lightweight, standalone, executable package that includes everything needed to run a piece of software, including the code, runtime, libraries, environment variables, and configuration files.


- **<span style="color:red"> Dockerfile**: A text file that contains a series of instructions on how to build a Docker image.


- **<span style="color:red"> Docker Hub**: A cloud-based registry service that allows you to store and share Docker images.


- **<span style="color:red"> Volume**: A mechanism for persisting data generated by and used by Docker containers.


- **<span style="color:red"> Network**: A way to connect Docker containers to each other and to the outside world.




# <span style="color:#3bfb2b"> How To Write Docker File </span>

- A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image. 
- Using docker build users can create an automated build that executes several command-line instructions in succession.

- if I want to create a docker file for the Spring Boot Application then the docker file will look like below 

- Use to prefer YT video

```dockerfile
# Use an official OpenJDK runtime as a parent image
FROM openjdk:11-jre-slim
# Set the working directory in the container
WORKDIR /app
# Copy the executable JAR file into the container at /app
COPY target/my-spring-boot-app.jar app.jar    
# Make port 8080 available to the world outside this container
EXPOSE 8080
# Run the JAR file
ENTRYPOINT ["java","-jar","app.jar"]
```

### Now how to run the Docker File

- To build and run the Dockerfile, follow these steps:
- 1. Open a terminal and navigate to the directory containing your Dockerfile.
  1. Build the Docker image using the following command:
     ```bash
     docker build -t my-spring-boot-app .
     ```
  2. Run a container from the image using the following command:
     ```bash
     docker run -p 8080:8080 my-spring-boot-app
     ```
     - This command maps port 8080 of the container to port 8080 on your host machine, allowing you to access the Spring Boot application via `http://localhost:8080`.
     - Make sure to replace `my-spring-boot-app` with the name you used when building the image if it's different.
     - You can stop the container by pressing `Ctrl + C` in the terminal where the container is running or by using the `docker stop` command followed by the container ID or name.
     - That's it! Your Spring Boot application should now be running inside a Docker container.


# <span style="color:#37b8cc"> Useful Docker Commands </span>

- Here are some useful Docker commands that can help you manage Docker containers, images, and other resources:
- 1. **docker build**: Build a Docker image from a Dockerfile.
   ```bash
   docker build -t image_name .
   ```
- 2. **docker run**: Run a Docker container from an image.
   ```bash
   docker run -d -p host_port:container_port image_name
   ```
- 3. **docker ps**: List running Docker containers.
   ```bash
   docker ps
   ```
- 4. **docker ps -a**: List all Docker containers (running and stopped).
   ```bash
   docker ps -a
   ```
- 5. **docker stop**: Stop a running Docker container.
   ```bash
   docker stop container_id
   ```
- 6. **docker rm**: Remove a stopped Docker container.
   ```bash
   docker rm container_id
   ```
- 7. **docker rmi**: Remove a Docker image.
   ```bash
   docker rmi image_name
   ```
- 8. **docker images**: List all Docker images on your system.
   ```bash
   docker images
   ```
- 9. **docker logs**: View the logs of a Docker container.
   ```bash
   docker logs container_id
   ```
- 10. **docker exec**: Run a command inside a running Docker container.
    ```bash
    docker exec -it container_id bash
    ```
  - 11. **docker pull**: Download a Docker image from a registry (e.g., Docker Hub).
      ```bash
      docker pull image_name
      ```  


# <span style="color:#ff6f61"> Docker Networking </span>

- Docker networking allows containers to communicate with each other and with the outside world.
  - Docker provides several built-in network drivers, including:    

![img_1.png](img_1.png)

- Allows **<span style="color:#f71b94">independent containers** to communicate on the same host.

## Types of Docker Networks

### 1. Host Network

- Both the computer and docker container have same port number
- Example: If the host machine has a web server running on port 80, and a Docker container is started with the host network mode, the container can also access the web server on port 80 without any port mapping.

### 2. Bridge Network (Default)

- The bridge between the host and docker container
- Isolated network created by Docker on the host machine.

### 3. User -Defined Bridge Network

- Custom bridge networks created by users for better control over container communication.

### 4. None Network

- Containers have no network connectivity.
- it is completely isolated from any network.
- No, any internet access also

-------------------
- advanced networking options (Docker Swarm )

### 5. MACVLAN Network (Docker Swarm )

- Generally, it communicates with MAC address.
- Assigns a MAC address to a container, making it appear as a physical device on the network.
- Useful for legacy applications that require direct access to the physical network.

### 6. Overlay Network (Docker Swarm )
### 7. IPvlan Network (Docker Swarm )


-------------

# <span style="color:#ff9f1a"> Docker Network Commands </span>

- Here are some useful Docker network commands that can help you manage Docker networks:
- 1. **docker network ls**: List all Docker networks on your system.
   ```bash
   docker network ls
   ```
  ![img_2.png](img_2.png)
- 2. **docker network create**: Create a new Docker network.
   ```bash
   docker network create network_name
   ```
  - Previous we see all the types of docker networks are called drivers
  - To create a bridge network specifically, you can use:
  - **-d** refers **Driver**
  ```bash
  docker network create network_name -d bridge
  ```
    ![img_3.png](img_3.png)


- 3. **docker network inspect**: Display detailed information about a specific Docker network.
    ```bash
   docker network inspect network_name
    ```
- 4. **docker network rm**: Remove a Docker network.
   ```bash
   docker network rm network_name
   ```
- 5. **docker network connect**: Connect a container to a Docker network.
   ```bash
    docker network connect network_name container_id
   ```
